function setSize(){rootWidth=root.width(),rootHeight=root.height(),skewOffset=Math.tan(Math.radians(skewAngle))*rootHeight,skewOffsetMid=skewOffset/2,bgcontent.width(rootWidth),bgcontent.height(rootHeight),dragger.height(rootHeight),dragger.width(skewOffset),dragger.css("top",rootHeight/2-dragger.height()/2),dragger.css("margin-left",-skewOffsetMid);var t=draggerButtonBottomOffset/Math.sin(Math.radians(90-skewAngle))*Math.cos(Math.radians(90-skewAngle));dragButton.css("top",dragger.height()-draggerButtonBottomOffset),dragButton.css("left",t-dragButtonMidOffset),inner.width(rootWidth),inner.css("-ms-transform","skewX("+-skewAngle+"deg)"),inner.css("-webkit-transform","skewX("+-skewAngle+"deg)"),inner.css("transform","skewX("+-skewAngle+"deg)"),inner.css("margin-left",-skewOffsetMid),content.width(rootWidth+skewOffset),content.height(rootHeight),content.css("margin-left",skewOffsetMid),contentImage.width(rootWidth+skewOffset),content.css("-ms-transform","skewX("+skewAngle+"deg)"),content.css("-webkit-transform","skewX("+skewAngle+"deg)"),content.css("transform","skewX("+skewAngle+"deg)")}function setPos(t){currentPos=t;var e=(t+skewOffset/2)/(rootWidth+skewOffset);inner.width((rootWidth+skewOffset)*e),isTouch||(overlayLeft.css("opacity",e-.3),overlayRight.css("opacity",1-e-.3))}function doneResizing(){setSize(),setPos(currentPos)}Math.degrees=function(t){return t*(180/Math.PI)},Math.radians=function(t){return t*(Math.PI/180)};var currentPos,skewAngle=10,draggerButtonBottomOffset=200,root=$("#ags-slider"),inner=root.find(".inner"),bgcontent=root.find(".ags-bg--content"),content=root.find(".ags-front--content"),overlayLeft=bgcontent.find(".overlay"),overlayRight=content.find(".overlay"),contentImage=content.find("img"),dragger=root.find(".dragger"),dragButton=dragger.find(".drag-button"),dragButtonMidOffset=48,cover=root.find(".cover"),rootWidth,rootHeight,id,isTouch=!0,skewOffset;if(root.css("height",Math.round(.72*$(window).height())),overlayLeft.css("opacity",0),overlayRight.css("opacity",0),$("html").hasClass("no-touch")&&(isTouch=!1),isTouch)var draggerButtonBottomOffset=142;$(function(){console.log("ready!"),currentPos=$("#ags-slider").width()/6*4.3,cover.fadeOut(1e3),setSize(),setPos(currentPos),Draggable.create("#ags-slider > .dragger",{type:"left",edgeResistance:.5,throwProps:!0,bounds:"#ags-slider-bounds",onThrowUpdate:function(){setPos(this.x)},onDrag:function(){setPos(this.x)}}),$("#ags-slider > .dragger").css("left",currentPos),$(window).resize(function(){clearTimeout(id),id=setTimeout(doneResizing,30)})});